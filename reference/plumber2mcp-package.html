<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>plumber2mcp: Add Model Context Protocol Support to Plumber APIs — plumber2mcp-package • plumber2mcp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="plumber2mcp: Add Model Context Protocol Support to Plumber APIs — plumber2mcp-package"><meta name="description" content="Extends plumber APIs with Model Context Protocol (MCP) support, enabling AI assistants to discover and call your API endpoints as tools, read resources for context, and use prompt templates for guided interactions. Simply add pr_mcp() to your plumber pipeline to automatically expose all endpoints via the MCP protocol with rich schema generation and documentation.
The plumber2mcp package extends Plumber APIs with Model Context Protocol (MCP)
support, enabling AI assistants (like Claude, ChatGPT, etc.) to discover and
interact with your R functions through three key MCP primitives:

Tools: AI assistants can call your API endpoints directly
Resources: AI assistants can read documentation, data, and analysis results
Prompts: AI assistants can use pre-defined templates to guide interactions

"><meta property="og:description" content="Extends plumber APIs with Model Context Protocol (MCP) support, enabling AI assistants to discover and call your API endpoints as tools, read resources for context, and use prompt templates for guided interactions. Simply add pr_mcp() to your plumber pipeline to automatically expose all endpoints via the MCP protocol with rich schema generation and documentation.
The plumber2mcp package extends Plumber APIs with Model Context Protocol (MCP)
support, enabling AI assistants (like Claude, ChatGPT, etc.) to discover and
interact with your R functions through three key MCP primitives:

Tools: AI assistants can call your API endpoints directly
Resources: AI assistants can read documentation, data, and analysis results
Prompts: AI assistants can use pre-defined templates to guide interactions

"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plumber2mcp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/plumber2mcp" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>plumber2mcp: Add Model Context Protocol Support to Plumber APIs</h1>

      <div class="d-none name"><code>plumber2mcp-package.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Extends plumber APIs with Model Context Protocol (MCP) support, enabling AI assistants to discover and call your API endpoints as tools, read resources for context, and use prompt templates for guided interactions. Simply add pr_mcp() to your plumber pipeline to automatically expose all endpoints via the MCP protocol with rich schema generation and documentation.</p>
<p>The plumber2mcp package extends Plumber APIs with Model Context Protocol (MCP)
support, enabling AI assistants (like Claude, ChatGPT, etc.) to discover and
interact with your R functions through three key MCP primitives:</p>
<ul><li><p><strong>Tools</strong>: AI assistants can call your API endpoints directly</p></li>
<li><p><strong>Resources</strong>: AI assistants can read documentation, data, and analysis results</p></li>
<li><p><strong>Prompts</strong>: AI assistants can use pre-defined templates to guide interactions</p></li>
</ul></div>


    <div class="section level2">
    <h2 id="main-functions">Main Functions<a class="anchor" aria-label="anchor" href="#main-functions"></a></h2>



<p><strong>Core MCP Setup:</strong></p><ul><li><p><code><a href="pr_mcp.html">pr_mcp</a></code>: Add MCP support to a Plumber router (main function)</p></li>
<li><p><code><a href="pr_mcp_http.html">pr_mcp_http</a></code>: Add MCP support with HTTP transport</p></li>
<li><p><code><a href="pr_mcp_stdio.html">pr_mcp_stdio</a></code>: Add MCP support with stdio transport</p></li>
</ul><p><strong>Resources:</strong></p><ul><li><p><code><a href="pr_mcp_resource.html">pr_mcp_resource</a></code>: Add a custom resource</p></li>
<li><p><code><a href="pr_mcp_help_resources.html">pr_mcp_help_resources</a></code>: Add built-in R help resources</p></li>
</ul><p><strong>Prompts:</strong></p><ul><li><p><code><a href="pr_mcp_prompt.html">pr_mcp_prompt</a></code>: Add a prompt template</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="quick-start">Quick Start<a class="anchor" aria-label="anchor" href="#quick-start"></a></h2>



<p><strong>HTTP Transport (for testing):</strong></p><div class="sourceCode"><pre><code><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rplumber.io" class="external-link">plumber</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">plumber2mcp</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://www.rplumber.io/reference/pr.html" class="external-link">pr</a></span><span class="op">(</span><span class="st">"plumber.R"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"http"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://www.rplumber.io/reference/pr_run.html" class="external-link">pr_run</a></span><span class="op">(</span>port <span class="op">=</span> <span class="fl">8000</span><span class="op">)</span></span></code></pre></div>

<p><strong>Stdio Transport (for MCP clients):</strong></p><div class="sourceCode"><pre><code><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rplumber.io" class="external-link">plumber</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">plumber2mcp</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://www.rplumber.io/reference/pr.html" class="external-link">pr</a></span><span class="op">(</span><span class="st">"plumber.R"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="adding-features">Adding Features<a class="anchor" aria-label="anchor" href="#adding-features"></a></h2>



<p><strong>Add a Resource:</strong></p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp_resource.html">pr_mcp_resource</a></span><span class="op">(</span></span>
<span>    uri <span class="op">=</span> <span class="st">"/data/summary"</span>,</span>
<span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">mtcars</span><span class="op">)</span>,</span>
<span>    name <span class="op">=</span> <span class="st">"Dataset Summary"</span></span>
<span>  <span class="op">)</span></span></code></pre></div>

<p><strong>Add a Prompt:</strong></p><div class="sourceCode"><pre><code><span></span>
<span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/pr_mcp_prompt.html">pr_mcp_prompt</a></span><span class="op">(</span></span>
<span>    name <span class="op">=</span> <span class="st">"analyze-data"</span>,</span>
<span>    description <span class="op">=</span> <span class="st">"Guide for data analysis"</span>,</span>
<span>    arguments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"dataset"</span>, description <span class="op">=</span> <span class="st">"Dataset name"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span><span class="op">)</span> <span class="op">{</span></span>
<span>      <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Please analyze the"</span>, <span class="va">dataset</span>, <span class="st">"dataset"</span><span class="op">)</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">)</span></span></code></pre></div>

    </div>
    <div class="section level2">
    <h2 id="mcp-protocol">MCP Protocol<a class="anchor" aria-label="anchor" href="#mcp-protocol"></a></h2>



<p>This package implements the Model Context Protocol (MCP) specification version
2025-06-18. It provides:</p>
<ul><li><p><strong>Automatic endpoint discovery</strong>: Scans your Plumber API and converts endpoints to MCP tools</p></li>
<li><p><strong>Rich schema generation</strong>: Creates detailed JSON schemas from roxygen documentation</p></li>
<li><p><strong>JSON-RPC 2.0</strong>: Handles all MCP communication via JSON-RPC</p></li>
<li><p><strong>Multiple transports</strong>: HTTP (for testing) and stdio (for MCP clients)</p></li>
<li><p><strong>Enhanced documentation</strong>: Extracts parameter descriptions, types, and defaults</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="supported-mcp-methods">Supported MCP Methods<a class="anchor" aria-label="anchor" href="#supported-mcp-methods"></a></h2>



<p><strong>Core Protocol:</strong></p><ul><li><p><code>initialize</code>: Server initialization and capability negotiation</p></li>
<li><p><code>ping</code>: Health check</p></li>
</ul><p><strong>Tools:</strong></p><ul><li><p><code>tools/list</code>: List available API endpoints</p></li>
<li><p><code>tools/call</code>: Execute an API endpoint</p></li>
</ul><p><strong>Resources:</strong></p><ul><li><p><code>resources/list</code>: List available resources</p></li>
<li><p><code>resources/read</code>: Read a specific resource</p></li>
<li><p><code>resources/templates/list</code>: List resource templates</p></li>
</ul><p><strong>Prompts:</strong></p><ul><li><p><code>prompts/list</code>: List available prompt templates</p></li>
<li><p><code>prompts/get</code>: Get a specific prompt with arguments</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="configuration">Configuration<a class="anchor" aria-label="anchor" href="#configuration"></a></h2>



<p>Customize your MCP server with:</p><ul><li><p><code>path</code>: Custom mount path (default: "/mcp")</p></li>
<li><p><code>include_endpoints</code>: Whitelist specific endpoints</p></li>
<li><p><code>exclude_endpoints</code>: Blacklist specific endpoints</p></li>
<li><p><code>server_name</code>: Custom server name</p></li>
<li><p><code>server_version</code>: Custom server version</p></li>
<li><p><code>debug</code>: Enable debug logging (stdio only)</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="learn-more">Learn More<a class="anchor" aria-label="anchor" href="#learn-more"></a></h2>



<ul><li><p>MCP Specification: <a href="https://modelcontextprotocol.io" class="external-link">https://modelcontextprotocol.io</a></p></li>
<li><p>GitHub Repository: <a href="https://github.com/armish/plumber2mcp" class="external-link">https://github.com/armish/plumber2mcp</a></p></li>
<li><p>Plumber Documentation: <a href="https://www.rplumber.io" class="external-link">https://www.rplumber.io</a></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p><strong>Maintainer</strong>: Bulent Arman Aksoy <a href="mailto:arman@aksoy.org">arman@aksoy.org</a></p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Basic HTTP server</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://www.rplumber.io" class="external-link">plumber</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">plumber2mcp</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op">&lt;-</span> <span class="fu">plumber</span><span class="fu">::</span><span class="fu"><a href="https://www.rplumber.io/reference/pr.html" class="external-link">pr</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">pr</span><span class="op">$</span><span class="fu">handle</span><span class="op">(</span><span class="st">"GET"</span>, <span class="st">"/echo"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">msg</span> <span class="op">=</span> <span class="st">"hello"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>message <span class="op">=</span> <span class="va">msg</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"http"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://www.rplumber.io/reference/pr_run.html" class="external-link">pr_run</a></span><span class="op">(</span>port <span class="op">=</span> <span class="fl">8000</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Full-featured stdio server</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp_resource.html">pr_mcp_resource</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    uri <span class="op">=</span> <span class="st">"/docs/api"</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="st">"API Documentation"</span>,</span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"API Docs"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp_prompt.html">pr_mcp_prompt</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"help"</span>,</span></span>
<span class="r-in"><span>    description <span class="op">=</span> <span class="st">"Get help with the API"</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="st">"How can I help you use this API?"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/armish" class="external-link">Bulent Arman Aksoy</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> and the <a href="https://modelcontextprotocol.io/" class="external-link">Model Context Protocol</a></p>
</div>

    </footer></div>





  </body></html>

