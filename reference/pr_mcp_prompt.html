<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Add a prompt template to an MCP-enabled Plumber router — pr_mcp_prompt • plumber2mcp</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Add a prompt template to an MCP-enabled Plumber router — pr_mcp_prompt"><meta name="description" content="Prompts are reusable templates that AI assistants can discover and use
to interact with your API. They provide structured messages with optional
arguments that can be filled in by the AI or user."><meta property="og:description" content="Prompts are reusable templates that AI assistants can discover and use
to interact with your API. They provide structured messages with optional
arguments that can be filled in by the AI or user."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">plumber2mcp</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/getting-started.html">Get Started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/getting-started.html">Getting Started</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/armish/plumber2mcp" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Add a prompt template to an MCP-enabled Plumber router</h1>

      <div class="d-none name"><code>pr_mcp_prompt.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Prompts are reusable templates that AI assistants can discover and use
to interact with your API. They provide structured messages with optional
arguments that can be filled in by the AI or user.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">pr_mcp_prompt</span><span class="op">(</span><span class="va">pr</span>, <span class="va">name</span>, <span class="va">description</span>, arguments <span class="op">=</span> <span class="cn">NULL</span>, <span class="va">func</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-pr">pr<a class="anchor" aria-label="anchor" href="#arg-pr"></a></dt>
<dd><p>A Plumber router object (must have MCP support added)</p></dd>


<dt id="arg-name">name<a class="anchor" aria-label="anchor" href="#arg-name"></a></dt>
<dd><p>Unique identifier for the prompt (e.g., "code-review", "analyze-data")</p></dd>


<dt id="arg-description">description<a class="anchor" aria-label="anchor" href="#arg-description"></a></dt>
<dd><p>Human-readable description of what the prompt does</p></dd>


<dt id="arg-arguments">arguments<a class="anchor" aria-label="anchor" href="#arg-arguments"></a></dt>
<dd><p>Optional list of argument definitions. Each argument should be a list with:</p><ul><li><p><code>name</code>: The argument name</p></li>
<li><p><code>description</code>: What the argument is for</p></li>
<li><p><code>required</code>: Boolean indicating if the argument is required (default: FALSE)</p></li>
</ul></dd>


<dt id="arg-func">func<a class="anchor" aria-label="anchor" href="#arg-func"></a></dt>
<dd><p>A function that generates prompt messages. The function should:</p><ul><li><p>Accept arguments matching those defined in the arguments parameter</p></li>
<li><p>Return either a character vector, a list of messages, or a single message</p></li>
<li><p>Each message can be either a string (treated as user message) or a list with <code>role</code> and <code>content</code></p></li>
</ul></dd>

</dl></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Simple prompt with no arguments</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">pr_mcp_prompt</span><span class="op">(</span></span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"greeting"</span>,</span></span>
<span class="r-in"><span>    description <span class="op">=</span> <span class="st">"Generate a friendly greeting"</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="st">"Hello! How can I help you with R today?"</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Prompt with arguments</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">pr_mcp_prompt</span><span class="op">(</span></span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"analyze-dataset"</span>,</span></span>
<span class="r-in"><span>    description <span class="op">=</span> <span class="st">"Guide for analyzing a dataset"</span>,</span></span>
<span class="r-in"><span>    arguments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"dataset"</span>, description <span class="op">=</span> <span class="st">"Name of the dataset to analyze"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"focus"</span>, description <span class="op">=</span> <span class="st">"Specific aspect to focus on"</span>, required <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">dataset</span>, <span class="va">focus</span> <span class="op">=</span> <span class="st">"general"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="kw">if</span> <span class="op">(</span><span class="va">focus</span> <span class="op">==</span> <span class="st">"general"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="va">msg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            <span class="st">"Please analyze the %s dataset. Provide:"</span>,</span></span>
<span class="r-in"><span>            <span class="st">"1. Summary statistics"</span>,</span></span>
<span class="r-in"><span>            <span class="st">"2. Data quality assessment"</span>,</span></span>
<span class="r-in"><span>            <span class="st">"3. Interesting patterns or relationships"</span>,</span></span>
<span class="r-in"><span>            <span class="st">"4. Recommendations for further analysis"</span>,</span></span>
<span class="r-in"><span>            sep <span class="op">=</span> <span class="st">"\n"</span></span></span>
<span class="r-in"><span>          <span class="op">)</span>,</span></span>
<span class="r-in"><span>          <span class="va">dataset</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span></span>
<span class="r-in"><span>        <span class="va">msg</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          <span class="st">"Please analyze the %s dataset with a focus on: %s"</span>,</span></span>
<span class="r-in"><span>          <span class="va">dataset</span>, <span class="va">focus</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span>      <span class="co"># Return as a structured message</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        role <span class="op">=</span> <span class="st">"user"</span>,</span></span>
<span class="r-in"><span>        content <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>type <span class="op">=</span> <span class="st">"text"</span>, text <span class="op">=</span> <span class="va">msg</span><span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Multi-turn conversation prompt</span></span></span>
<span class="r-in"><span><span class="va">pr</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="pr_mcp.html">pr_mcp</a></span><span class="op">(</span>transport <span class="op">=</span> <span class="st">"stdio"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">pr_mcp_prompt</span><span class="op">(</span></span></span>
<span class="r-in"><span>    name <span class="op">=</span> <span class="st">"code-review"</span>,</span></span>
<span class="r-in"><span>    description <span class="op">=</span> <span class="st">"Review R code for quality and best practices"</span>,</span></span>
<span class="r-in"><span>    arguments <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"code"</span>, description <span class="op">=</span> <span class="st">"The R code to review"</span>, required <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">)</span>,</span></span>
<span class="r-in"><span>    func <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">code</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>      <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          role <span class="op">=</span> <span class="st">"user"</span>,</span></span>
<span class="r-in"><span>          content <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            type <span class="op">=</span> <span class="st">"text"</span>,</span></span>
<span class="r-in"><span>            text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Please review this R code:"</span>, <span class="va">code</span>, sep <span class="op">=</span> <span class="st">"\n\n"</span><span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          role <span class="op">=</span> <span class="st">"assistant"</span>,</span></span>
<span class="r-in"><span>          content <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            type <span class="op">=</span> <span class="st">"text"</span>,</span></span>
<span class="r-in"><span>            text <span class="op">=</span> <span class="st">"I'll review your R code for:"</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span>,</span></span>
<span class="r-in"><span>        <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>          role <span class="op">=</span> <span class="st">"user"</span>,</span></span>
<span class="r-in"><span>          content <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>            type <span class="op">=</span> <span class="st">"text"</span>,</span></span>
<span class="r-in"><span>            text <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>              <span class="st">"Focus on:"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"1. Code correctness and logic"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"2. R idioms and best practices"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"3. Performance considerations"</span>,</span></span>
<span class="r-in"><span>              <span class="st">"4. Documentation and readability"</span>,</span></span>
<span class="r-in"><span>              sep <span class="op">=</span> <span class="st">"\n"</span></span></span>
<span class="r-in"><span>            <span class="op">)</span></span></span>
<span class="r-in"><span>          <span class="op">)</span></span></span>
<span class="r-in"><span>        <span class="op">)</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://github.com/armish" class="external-link">Bulent Arman Aksoy</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> and the <a href="https://modelcontextprotocol.io/" class="external-link">Model Context Protocol</a></p>
</div>

    </footer></div>





  </body></html>

